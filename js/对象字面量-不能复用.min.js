(function(){var a={};a.getMonthDate=function(m,k){var l=[];if(!m||!k){var n=new Date();m=n.getFullYear();k=n.getMonth()+1}var d=new Date(m,k-1,1);m=d.getFullYear();k=d.getMonth()+1;var h=d.getDay();if(h===0){h=7}var q=new Date(m,k-1,0);var e=q.getDate();var g=h-1;var o=new Date(m,k,0);var c=o.getDate();for(var j=0;j<42;j++){var f=j-g+1;var p=f;var b=k;if(f<=0){b=k-1;p=e+f}else{if(f>c){b=k+1;p=p-c}}if(b===0){b=12}if(b===13){b=1}l.push({month:b,date:f,showDate:p})}return{year:m,month:k,days:l}};window.datepicker=a})();(function(){var c=window.datepicker,a;c.buildUi=function(j,k){a=c.getMonthDate(j,k);var g='<div class="ui-datepicker-header"><a href="#" class="ui-datepicker-btn ui-datepicker-prev-btn">&lt;</a><a href="#" class="ui-datepicker-btn ui-datepicker-next-btn">&gt;</a><span class="ui-datepicker-curr-month">'+a.year+"-"+a.month+'</span></div><div class="ui-datepicker-body"><table><thead><tr><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th><th>日</th></tr></thead><tbody>';for(var f=0;f<42;f++){var d=a.days[f];if(f%7===0){g+="<tr>"}var e,h;if(Number(d.showDate)>Number(d.date)){e=a.month-1;h="ui-datepicker-bggary"}else{if(d.showDate===d.date){e=a.month;if((new Date()).getDate()===d.date&&(new Date()).getMonth()+1===a.month&&(new Date()).getFullYear()===a.year){h="ui-datepicker-bgnow"}else{h="ui-datepicker-bgdefault"}}else{e=a.month+1;h="ui-datepicker-bggary"}}g+='<td class="'+h+'" data-date="'+a.year+"-"+e+"-"+d.showDate+'">'+d.showDate+"</td>";if(f%7===6){g+="</tr>"}}g+="</tbody></table></div>";return g};var b;c.render=function(e,f){var d=c.buildUi(e,f);if(!b){b=document.createElement("div");b.className="ui-datepicker-wrapper";document.body.appendChild(b)}b.innerHTML=d};c.init=function(d,e,f){c.render(e,f);var g=document.querySelector(d);g.addEventListener("click",function(){if(b.classList.contains("ui-datepicker-wrapper-show")){b.classList.remove("ui-datepicker-wrapper-show")}else{b.classList.add("ui-datepicker-wrapper-show");var j=g.offsetLeft,i=g.offsetTop,h=g.offsetHeight;b.style.top=i+h+2+"px";b.style.left=j+"px"}},false);b.addEventListener("click",function(i){var h=i.target;if(!h.classList.contains("ui-datepicker-btn")){return false}if(h.classList.contains("ui-datepicker-prev-btn")){if(a.month===1){e=a.year-1;f=12}else{e=a.year;f=a.month-1}c.render(e,f)}else{if(a.month===12){e=a.year+1;f=1}else{e=a.year;f=a.month+1}c.render(e,f)}});b.addEventListener("click",function(i){var h=i.target;if(h.tagName.toLowerCase()!=="td"){return false}if(h.classList.contains("ui-datepicker-bggary")){return false}g.value=h.getAttribute("data-date");b.classList.remove("ui-datepicker-wrapper-show")})}})();