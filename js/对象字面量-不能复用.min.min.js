(function(){var b={};b.getMonthDate=function(t,v){var u=[];if(!t||!v){var s=new Date();t=s.getFullYear();v=s.getMonth()+1}var B=new Date(t,v-1,1);t=B.getFullYear();v=B.getMonth()+1;var x=B.getDay();if(x===0){x=7}var a=new Date(t,v-1,0);var A=a.getDate();var y=x-1;var r=new Date(t,v,0);var C=r.getDate();for(var w=0;w<42;w++){var z=w-y+1;var i=z;var D=v;if(z<=0){D=v-1;i=A+z}else{if(z>C){D=v+1;i=i-C}}if(D===0){D=12}if(D===13){D=1}u.push({month:D,date:z,showDate:i})}return{year:t,month:v,days:u}};window.datepicker=b})();(function(){var f=window.datepicker,e;f.buildUi=function(b,a){e=f.getMonthDate(b,a);var i='<div class="ui-datepicker-header"><a href="#" class="ui-datepicker-btn ui-datepicker-prev-btn">&lt;</a><a href="#" class="ui-datepicker-btn ui-datepicker-next-btn">&gt;</a><span class="ui-datepicker-curr-month">'+e.year+"-"+e.month+'</span></div><div class="ui-datepicker-body"><table><thead><tr><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th><th>日</th></tr></thead><tbody>';for(var l=0;l<42;l++){var n=e.days[l];if(l%7===0){i+="<tr>"}var m,c;if(Number(n.showDate)>Number(n.date)){m=e.month-1;c="ui-datepicker-bggary"}else{if(n.showDate===n.date){m=e.month;if((new Date()).getDate()===n.date&&(new Date()).getMonth()+1===e.month&&(new Date()).getFullYear()===e.year){c="ui-datepicker-bgnow"}else{c="ui-datepicker-bgdefault"}}else{m=e.month+1;c="ui-datepicker-bggary"}}i+='<td class="'+c+'" data-date="'+e.year+"-"+m+"-"+n.showDate+'">'+n.showDate+"</td>";if(l%7===6){i+="</tr>"}}i+="</tbody></table></div>";return i};var d;f.render=function(b,a){var c=f.buildUi(b,a);if(!d){d=document.createElement("div");d.className="ui-datepicker-wrapper";document.body.appendChild(d)}d.innerHTML=c};f.init=function(h,c,b){f.render(c,b);var a=document.querySelector(h);a.addEventListener("click",function(){if(d.classList.contains("ui-datepicker-wrapper-show")){d.classList.remove("ui-datepicker-wrapper-show")}else{d.classList.add("ui-datepicker-wrapper-show");var g=a.offsetLeft,k=a.offsetTop,l=a.offsetHeight;d.style.top=k+l+2+"px";d.style.left=g+"px"}},false);d.addEventListener("click",function(g){var j=g.target;if(!j.classList.contains("ui-datepicker-btn")){return false}if(j.classList.contains("ui-datepicker-prev-btn")){if(e.month===1){c=e.year-1;b=12}else{c=e.year;b=e.month-1}f.render(c,b)}else{if(e.month===12){c=e.year+1;b=1}else{c=e.year;b=e.month+1}f.render(c,b)}});d.addEventListener("click",function(g){var j=g.target;if(j.tagName.toLowerCase()!=="td"){return false}if(j.classList.contains("ui-datepicker-bggary")){return false}a.value=j.getAttribute("data-date");d.classList.remove("ui-datepicker-wrapper-show")})}})();